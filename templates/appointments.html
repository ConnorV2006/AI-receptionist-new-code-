{% extends "base.html" %}
{% block content %}
<h2>Appointments</h2>

<form method="POST">
  <div class="row mb-3">
    <div class="col-md-4"><input type="text" class="form-control" name="patient_name" placeholder="Patient Name" required></div>
    <div class="col-md-4"><input type="date" class="form-control" name="date" required></div>
    <div class="col-md-4"><input type="time" class="form-control" name="time" required></div>
  </div>
  <button class="btn btn-primary">Add Appointment</button>
</form>

<hr>
<div id="calendar"></div>
<link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var calendar = new FullCalendar.Calendar(document.getElementById('calendar'), {
      initialView: 'dayGridMonth',
      events: {{ appointments|safe }}
    });
    calendar.render();
  });
</script>
{% endblock %}
